// Copyright (c) 2014 JohnsonLu

(function($){var setCSS=function(){$('.fallzu-scroll-bar').css({'position':'fixed','right':'30px','bottom':'30px'});$('.fallzu-scroll-btn').css({'width':'50px','height':'50px','background':'#333','border-radius':'25px','text-align':'center','margin-bottom':'10px'});$('.fallzu-scroll-btn > a').css({'display':'block','font-size':'16px','color':'#FFF'});};$.fn.scrollWhere=function(devOptions){$(this).html('<div class="fallzu-scroll-bar"><div class="fallzu-scroll-btn fallzu-scroll-return fallzu-scroll-return-top"><a href="#"><i class="fa fa-angle-double-up fa-3x"></i></a></div><div class="fallzu-scroll-btn fallzu-scroll-record"><a href="#"><i class="fa fa-pencil fa-3x"></i></a></div><div class="fallzu-scroll-area"></div><div class="fallzu-scroll-btn fallzu-scroll-return fallzu-scroll-return-bottom"><a href="#"><i class="fa fa-angle-double-down fa-3x"></i></a></div></div>');setCSS();var defaultOptions={topBtn:true,bottomBtn:true,recordBtn:true};var options=$.extend(defaultOptions,devOptions);$('.fallzu-scroll-btn').hide();if(options.recordBtn){$('.fallzu-scroll-record').show();}
$(window).scroll(function(){var returnTop=$('.fallzu-scroll-return-top').stop(true,true);var returnBottom=$('.fallzu-scroll-return-bottom').stop(true,true);var windowHeight=$(this).height();var documentHeight=$(document).height();var scrollHeight=$(this).scrollTop();if(options.topBtn){if(scrollHeight){returnTop.fadeIn();}else{returnTop.fadeOut();}}
if(options.bottomBtn){if(windowHeight+scrollHeight<documentHeight){returnBottom.fadeIn();}else{returnBottom.fadeOut();}}});$('.fallzu-scroll-return-top').click(function(e){e.preventDefault();$('html, body').animate({scrollTop:0},500);});$('.fallzu-scroll-return-bottom').click(function(e){e.preventDefault();$('html, body').animate({scrollTop:$(document).height()-$(window).height()},500);});$('.fallzu-scroll-record').click(function(e){e.preventDefault();var windowHeight=$(window).scrollTop();$('.fallzu-scroll-area').append('<div class="fallzu-scroll-btn fallzu-scroll-anchor" data-scroll="'+windowHeight+'"><a href="#"><i class="fa fa-file-text-o fa-3x"></i></a></div>');setCSS();$('.fallzu-scroll-area .fallzu-scroll-btn:last').on('click',function(e){e.preventDefault();$('html, body').animate({scrollTop:$(this).data('scroll')},500);});});return $(this);};})(jQuery);
